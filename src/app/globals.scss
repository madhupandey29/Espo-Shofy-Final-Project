/* ===========================
   GLOBAL SCSS (Updated)
   =========================== */

/* ✅ Google Fonts now loaded via next/font in layout.jsx (self-hosted, optimized) */
/* REMOVED: @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap'); */
/* REMOVED: @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap'); */

/* ===========================
   OPTIMIZED VENDOR IMPORTS
   =========================== */

/* ✅ Bootstrap - Optimized imports with required dependencies */
@import '~bootstrap/scss/functions';
@import '~bootstrap/scss/variables';
@import '~bootstrap/scss/variables-dark';
@import '~bootstrap/scss/maps';
@import '~bootstrap/scss/mixins';
@import '~bootstrap/scss/root';
@import '~bootstrap/scss/reboot';
@import '~bootstrap/scss/type';
@import '~bootstrap/scss/images';
@import '~bootstrap/scss/containers';
@import '~bootstrap/scss/grid';
@import '~bootstrap/scss/tables';
@import '~bootstrap/scss/forms';
@import '~bootstrap/scss/buttons';
@import '~bootstrap/scss/transitions';
@import '~bootstrap/scss/dropdown';
@import '~bootstrap/scss/button-group';
@import '~bootstrap/scss/nav';
@import '~bootstrap/scss/navbar';
@import '~bootstrap/scss/card';
@import '~bootstrap/scss/accordion';
@import '~bootstrap/scss/breadcrumb';
@import '~bootstrap/scss/pagination';
@import '~bootstrap/scss/badge';
@import '~bootstrap/scss/alert';
@import '~bootstrap/scss/progress';
@import '~bootstrap/scss/list-group';
@import '~bootstrap/scss/close';
@import '~bootstrap/scss/toasts';
@import '~bootstrap/scss/modal';
@import '~bootstrap/scss/tooltip';
@import '~bootstrap/scss/popover';
@import '~bootstrap/scss/carousel';
@import '~bootstrap/scss/spinners';
@import '~bootstrap/scss/offcanvas';
@import '~bootstrap/scss/placeholders';
@import '~bootstrap/scss/helpers';
@import '~bootstrap/scss/utilities';
@import '~bootstrap/scss/utilities/api';

/* ✅ Slick Carousel - Required for product sliders */
@import "~slick-carousel/slick/slick.css";

/* ✅ Swiper - Required for modern carousels */
@import "swiper/css/bundle";

/* ❌ REMOVED: react-modal-video CSS (package not used) */
/* @import 'node_modules/react-modal-video/scss/modal-video.scss'; */

/* ✅ Theme styles */
@import '../../public/assets/scss/main.scss';

/* ✅ Floating Chatbot styles */
@import '../components/chatbot/FloatingChatbot.scss';

/* ===========================
   Brand Tokens (GLOBAL)
   Edit these to re-theme site
   =========================== */
:root{
  /* Brand */
  --tp-theme-primary:   #2C4C97; /* AGE Blue */
  --tp-theme-secondary: #D6A74B; /* AGE Gold */
  --tp-theme-1:         #112338; /* Deep navy */
  
  /* RGB versions for transparency effects */
  --tp-theme-primary-rgb: 44, 76, 151;
  --tp-theme-secondary-rgb: 214, 167, 75;

  /* Text & base */
  --tp-common-white: #ffffff;
  --tp-common-black: #0F2235;
  --tp-text-1:       #0F2235;  /* headings */
  --tp-text-2:       #475569;  /* body/subtle */

  /* Surfaces */
  --tp-grey-1:  #F7F9FC;  /* alt section bg */
  --tp-grey-2:  #E6ECF2;  /* borders */
  --tp-grey-3:  #F1F5F9;
  --tp-grey-5:  #EEF2F6;
  --tp-grey-6:  #D9E2EC;
  --tp-grey-7:  #C9D3E0;
  --tp-grey-8:  #B6C1CF;
  --tp-grey-9:  #94A3B8;

  /* Footer / dark strips */
  --tp-footer-grey-1: #142A42;

  /* Status */
  --tp-theme-green: #1E824C;
  --tp-green-dark:  #10603B;

  /* ✅ Fonts (tokens) - now using next/font variables */
  --tp-ff-jost:   var(--font-poppins),'Poppins','Jost',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; /* headings/display */
  --font-inter-fallback: var(--font-inter),'Inter',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  --tp-ff-roboto: 'Inter','Hind','Jost',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; /* body/UI */

  /* Layout helpers - Enhanced for better sticky positioning */
  --tp-header-height: 88px;
  --header-offset: var(--tp-header-height);
  --sticky-top-offset: calc(var(--header-offset) + 10px);
  --page-xpad: 16px;
}

/* Optional Dark Theme (toggle by adding class="theme-dark" on <html>) */
.theme-dark{
  --tp-common-white:#0f1b2d;
  --tp-common-black:#e7edf6;

  --tp-text-1:#e7edf6;
  --tp-text-2:#b9c3d1;

  --tp-grey-1:#0d1420;
  --tp-grey-2:#1e2a3a;
  --tp-footer-grey-1:#0e1a2b;

  /* keep identity */
  --tp-theme-primary:#2C4C97;
  --tp-theme-secondary:#D6A74B;
  --tp-theme-1:#112338;
}

/* ===========================
   Fonts (local Jost; global pairing via tokens)
   =========================== */
@font-face {
  font-family: 'Jost';
  src: url('/assets/fonts/Jost/Jost-VariableFont_wght.ttf') format('truetype');
  font-weight: 100 900;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'Jost';
  src: url('/assets/fonts/Jost/Jost-Italic-VariableFont_wght.ttf') format('truetype');
  font-weight: 100 900;
  font-style: italic;
  font-display: swap;
}

/* ✅ Base font-family: use UI/body token */
* {
  box-sizing: border-box;
}

html {
  overflow-x: hidden; /* Prevent horizontal scroll on html */
  width: 100%;
  max-width: 100vw;
}

body {
  font-family: var(--tp-ff-roboto);
  color: var(--tp-text-1);
  overflow-x: hidden; /* Prevent horizontal scroll globally */
  width: 100%;
  max-width: 100vw;
  margin: 0;
  padding: 0;
  background: var(--tp-common-white);
  margin: 0;
  padding: 0;
  min-height: 100vh;
  overflow-x: hidden; /* Prevent horizontal scroll */
}

/* ===========================
   Mobile Layout Fixes
   =========================== */
html, body {
  overflow-x: hidden;
  width: 100%;
  position: relative;
}

#wrapper {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  overflow-x: hidden;
  width: 100%;
  position: relative;
}

/* Fix mobile viewport issues */
@media (max-width: 768px) {
  html {
    height: 100%;
    overflow-x: hidden;
  }
  
  body {
    -webkit-overflow-scrolling: touch;
    height: 100%;
    overflow-x: hidden;
    position: relative;
  }
  
  /* Prevent white space under footer */
  #wrapper {
    min-height: 100vh;
    position: relative;
    display: flex;
    flex-direction: column;
  }
  
  /* Ensure footer sticks to bottom and covers any white space */
  .tp-footer-area {
    margin-top: auto;
    position: relative;
    z-index: 10;
  }
  
  /* Add background extension below footer to prevent white lines */
  .tp-footer-area::before {
    content: '';
    position: absolute;
    bottom: -100px;
    left: 0;
    right: 0;
    height: 100px;
    background: inherit;
    z-index: -1;
  }
  
  /* Ensure main content area fills available space */
  main {
    flex: 1;
    min-height: 0;
  }
}

/* Fix any potential margin/padding issues on mobile */
@media (max-width: 480px) {
  * {
    box-sizing: border-box;
  }
  
  .container-fluid,
  .container {
    padding-left: 15px;
    padding-right: 15px;
    overflow-x: hidden;
  }
}

/* ===========================
   Header Mobile Fixes
   =========================== */
@media (max-width: 768px) {
  .tp-header-area {
    position: sticky;
    top: 0;
    z-index: 999;
    background: var(--tp-common-white);
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  }
  
  .tp-header-main {
    padding: 10px 0;
  }
  
  .tp-header-action {
    gap: 8px;
  }
  
  .tp-header-action-item {
    margin: 0 4px;
  }
}

/* ===========================
   Footer Mobile Fixes
   =========================== */
@media (max-width: 768px) {
  .tp-footer-area {
    position: relative;
    z-index: 1;
    background: var(--tp-footer-grey-1);
  }
  
  /* Ensure no white space appears under footer */
  .tp-footer-area::after {
    content: '';
    position: absolute;
    bottom: -50px;
    left: 0;
    right: 0;
    height: 50px;
    background: var(--tp-footer-grey-1);
    z-index: -1;
  }
}

/* ===========================
   Base Body Styles
   =========================== */
body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-size: 14px;
}

/* Headings default to display token (Poppins/Jost) */
h1,h2,h3,h4,h5,h6{
  font-family: var(--tp-ff-jost);
  color: var(--tp-text-1);
}

/* ===========================
   ENHANCED RESPONSIVE DESIGN FIXES
   =========================== */

/* Ensure all containers respect viewport boundaries */
.container,
.container-sm,
.container-md,
.container-lg,
.container-xl,
.container-xxl {
  max-width: 100% !important;
  width: 100% !important;
  padding-left: var(--page-xpad);
  padding-right: var(--page-xpad);
  overflow-x: hidden;
}

.container-fluid {
  max-width: 100% !important;
  width: 100% !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
  overflow-x: hidden;
}

/* Enhanced responsive breakpoints */
@media (max-width: 1366px) {
  :root {
    --page-xpad: 20px;
  }
}

@media (max-width: 1199px) {
  :root {
    --page-xpad: 18px;
  }
}

@media (max-width: 991px) {
  :root {
    --page-xpad: 16px;
  }
}

@media (max-width: 768px) {
  :root {
    --page-xpad: 15px;
  }
}

@media (max-width: 480px) {
  :root {
    --page-xpad: 12px;
  }
}

@media (max-width: 360px) {
  :root {
    --page-xpad: 10px;
  }
}

/* Product details specific responsive improvements */
.tp-product-details-area .container {
  max-width: 1400px;
  margin: 0 auto;
}

@media (max-width: 1366px) {
  .tp-product-details-area .container {
    max-width: 1200px;
  }
}

@media (max-width: 1199px) {
  .tp-product-details-area .container {
    max-width: 100%;
  }
}

/* Ensure product details columns stack properly on mobile */
@media (max-width: 991px) {
  .tp-product-details-top .row {
    flex-direction: column;
  }
  
  .tp-product-details-top .col-xl-7,
  .tp-product-details-top .col-xl-5 {
    max-width: 100%;
    flex: 0 0 100%;
  }
}

/* Enhanced text scaling for better readability */
@media (max-width: 768px) {
  body {
    font-size: 13px;
  }
  
  h1, h2, h3, h4, h5, h6 {
    line-height: 1.3;
  }
}

@media (max-width: 480px) {
  body {
    font-size: 12px;
  }
}

/* Prevent horizontal scroll issues */
* {
  box-sizing: border-box;
  max-width: 100%;
}

img, video, iframe, embed, object {
  max-width: 100%;
  height: auto;
}

/* ===========================
   MODAL Z-INDEX FIXES
   =========================== */

/* Ensure modals always appear above navigation */
.pdw-modal-overlay {
  z-index: 999999 !important;
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
}

/* Force modal content above everything */
.pdw-modal-content {
  z-index: 1000000 !important;
  position: relative !important;
}

/* Ensure modal controls are above modal content */
.pdw-modal-close,
.pdw-modal-nav,
.pdw-modal-counter {
  z-index: 1000001 !important;
}

/* Ensure header doesn't interfere with modal */
.tp-header-area {
  z-index: 999 !important;
}

/* Enhanced mobile layout fixes */

/* ===========================
   ULTRA-MODERN MEGAMENU DESIGN - PREMIUM UI
   =========================== */

/* Ensure proper positioning for mega menu */
.tp-main-menu-content .has-dropdown.has-mega-menu {
  position: static;
}

/* Ultra-modern megamenu container with premium design */
.tp-main-menu-content .has-dropdown.has-mega-menu .tp-submenu.capabilities-menu {
  position: absolute !important;
  top: 100% !important;
  left: 0 !important;
  right: 0 !important;
  width: 100vw !important;
  margin-left: calc(-50vw + 50%) !important;
  background: linear-gradient(135deg, #ffffff 0%, #fafbfc 100%) !important;
  border: none !important;
  border-radius: 0 !important;
  box-shadow: 
    0 32px 64px rgba(44, 76, 151, 0.12),
    0 16px 32px rgba(0, 0, 0, 0.08),
    0 4px 16px rgba(44, 76, 151, 0.06) !important;
  padding: 50px 0 !important;
  z-index: 99999 !important;
  opacity: 0 !important;
  visibility: hidden !important;
  transform: translateY(-15px) scale(0.98) !important;
  transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1) !important;
  display: block !important;
  pointer-events: none !important;
  border-top: 4px solid transparent !important;
  border-image: linear-gradient(90deg, var(--tp-theme-primary), var(--tp-theme-secondary)) 1 !important;
  backdrop-filter: blur(20px) !important;
}

.tp-main-menu-content .has-dropdown.has-mega-menu:hover .tp-submenu.capabilities-menu,
.tp-main-menu-content .has-dropdown.has-mega-menu.menu-open .tp-submenu.capabilities-menu,
.tp-main-menu-content .has-dropdown.has-mega-menu .tp-submenu.capabilities-menu.show {
  opacity: 1 !important;
  visibility: visible !important;
  transform: translateY(0) scale(1) !important;
  pointer-events: auto !important;
}

/* Force hide when not in hover or open state */
.tp-main-menu-content .has-dropdown.has-mega-menu:not(:hover):not(.menu-open) .tp-submenu.capabilities-menu:not(.show) {
  opacity: 0 !important;
  visibility: hidden !important;
  pointer-events: none !important;
  transform: translateY(-15px) scale(0.98) !important;
}

/* Premium backdrop effect */
.tp-main-menu-content .has-dropdown.has-mega-menu .tp-submenu.capabilities-menu::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(circle at center, rgba(44, 76, 151, 0.04) 0%, rgba(44, 76, 151, 0.02) 50%, transparent 100%);
  backdrop-filter: blur(8px);
  z-index: -1;
  opacity: 0;
  transition: opacity 0.5s ease;
}

.tp-main-menu-content .has-dropdown.has-mega-menu:hover .tp-submenu.capabilities-menu::before,
.tp-main-menu-content .has-dropdown.has-mega-menu.menu-open .tp-submenu.capabilities-menu::before {
  opacity: 1;
}

/* Floating animation with stagger effect */
@keyframes premiumFloatIn {
  0% {
    opacity: 0;
    transform: translateY(-25px) scale(0.9) rotateX(10deg);
    filter: blur(4px);
  }
  60% {
    opacity: 0.8;
    transform: translateY(-5px) scale(0.98) rotateX(2deg);
    filter: blur(1px);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1) rotateX(0deg);
    filter: blur(0);
  }
}

.capability-menu-item {
  animation: premiumFloatIn 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  opacity: 0;
}

.capability-menu-item:nth-child(1) { animation-delay: 0.05s; }
.capability-menu-item:nth-child(2) { animation-delay: 0.1s; }
.capability-menu-item:nth-child(3) { animation-delay: 0.15s; }
.capability-menu-item:nth-child(4) { animation-delay: 0.2s; }
.capability-menu-item:nth-child(5) { animation-delay: 0.25s; }
.capability-menu-item:nth-child(6) { animation-delay: 0.3s; }

/* Ensure megamenu is above all other content */
.tp-main-menu-content .has-dropdown.has-mega-menu .tp-submenu.capabilities-menu {
  z-index: 99999 !important;
}

/* Prevent megamenu from being cut off */
.tp-main-menu-content {
  overflow: visible !important;
}

.tp-header-area .container,
.tp-header-area .container-fluid {
  overflow: visible !important;
}

/* Premium container with enhanced styling */
.capabilities-menu-container {
  max-width: 1400px !important;
  margin: 0 auto !important;
  padding: 0 40px !important;
  position: relative !important;
}

/* Elegant top accent line */
.capabilities-menu-container::before {
  content: '';
  position: absolute;
  top: -25px;
  left: 50%;
  transform: translateX(-50%);
  width: 100px;
  height: 3px;
  background: linear-gradient(90deg, 
    transparent 0%, 
    var(--tp-theme-primary) 20%, 
    var(--tp-theme-secondary) 50%, 
    var(--tp-theme-primary) 80%, 
    transparent 100%);
  border-radius: 2px;
  opacity: 0.8;
  box-shadow: 0 2px 8px rgba(44, 76, 151, 0.3);
}

/* Premium grid layout */
.capabilities-grid {
  display: grid !important;
  grid-template-columns: repeat(3, 1fr) !important;
  gap: 28px !important;
  margin-bottom: 40px !important;
}

/* Enhanced capability items */
.capability-menu-item {
  margin-bottom: 0 !important;
  position: relative !important;
  overflow: hidden !important;
  transform-style: preserve-3d !important;
}

/* Sophisticated shimmer effect */
.capability-menu-item::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: conic-gradient(
    from 0deg at 50% 50%,
    transparent 0deg,
    rgba(44, 76, 151, 0.08) 60deg,
    rgba(214, 167, 75, 0.08) 120deg,
    rgba(44, 76, 151, 0.08) 180deg,
    transparent 240deg,
    transparent 360deg
  );
  opacity: 0;
  transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
  z-index: 1;
  animation: rotate 8s linear infinite;
  animation-play-state: paused;
}

@keyframes rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.capability-menu-item:hover::before {
  opacity: 1;
  animation-play-state: running;
}

/* Premium capability links */
.capability-link {
  display: flex !important;
  align-items: center !important;
  gap: 20px !important;
  padding: 28px 32px !important;
  border-radius: 20px !important;
  background: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.95) 0%, 
    rgba(255, 255, 255, 0.85) 100%) !important;
  border: 2px solid rgba(44, 76, 151, 0.08) !important;
  text-decoration: none !important;
  color: var(--tp-text-2) !important;
  transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1) !important;
  position: relative !important;
  width: 100% !important;
  box-sizing: border-box !important;
  height: 100% !important;
  overflow: hidden !important;
  backdrop-filter: blur(20px) !important;
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.06),
    0 4px 16px rgba(44, 76, 151, 0.04),
    inset 0 1px 0 rgba(255, 255, 255, 0.8) !important;
  z-index: 2 !important;
  transform: translateZ(0) !important;
}

.capability-link:hover {
  text-decoration: none !important;
  color: var(--tp-theme-primary) !important;
  border-color: rgba(44, 76, 151, 0.2) !important;
  transform: translateY(-4px) translateZ(0) !important;
  box-shadow: 
    0 16px 48px rgba(0, 0, 0, 0.12),
    0 8px 24px rgba(44, 76, 151, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.9) !important;
}

/* Premium icon design */
.capability-icon {
  flex-shrink: 0 !important;
  width: 64px !important;
  height: 64px !important;
  background: linear-gradient(135deg, var(--tp-theme-primary) 0%, #3a5ba0 100%) !important;
  border-radius: 18px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1) !important;
  position: relative !important;
  overflow: hidden !important;
  box-shadow: 
    0 12px 32px rgba(44, 76, 151, 0.25),
    0 4px 16px rgba(44, 76, 151, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
}

.capability-icon::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.2) 0%, 
    transparent 50%, 
    rgba(214, 167, 75, 0.1) 100%);
  opacity: 0;
  transition: opacity 0.4s ease;
}

.capability-link:hover .capability-icon {
  transform: scale(1.05) rotate(2deg) !important;
  box-shadow: 
    0 16px 40px rgba(44, 76, 151, 0.3),
    0 8px 24px rgba(44, 76, 151, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
}

.capability-link:hover .capability-icon::before {
  opacity: 1;
}

.capability-emoji {
  font-size: 28px !important;
  transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1) !important;
  line-height: 1 !important;
  filter: brightness(0) invert(1) drop-shadow(0 2px 4px rgba(0,0,0,0.1)) !important;
  z-index: 1 !important;
  position: relative !important;
}

.capability-link:hover .capability-emoji {
  transform: scale(1.1) !important;
  filter: brightness(0) invert(1) drop-shadow(0 4px 8px rgba(0,0,0,0.2)) !important;
}

/* Enhanced content styling */
.capability-content {
  flex: 1 !important;
  min-width: 0 !important;
  z-index: 2 !important;
  position: relative !important;
}

.capability-title {
  font-size: 18px !important;
  font-weight: 700 !important;
  color: inherit !important;
  margin-bottom: 8px !important;
  line-height: 1.3 !important;
  font-family: var(--tp-ff-jost) !important;
  transition: all 0.3s ease !important;
  letter-spacing: -0.02em !important;
}

.capability-desc {
  font-size: 14px !important;
  color: var(--tp-grey-9) !important;
  line-height: 1.5 !important;
  margin: 0 !important;
  font-family: var(--tp-ff-roboto) !important;
  transition: all 0.3s ease !important;
  opacity: 0.85 !important;
}

.capability-link:hover .capability-desc {
  opacity: 1 !important;
  color: var(--tp-text-2) !important;
}

/* Premium footer section */
.capabilities-menu-footer {
  margin-top: 45px !important;
  padding-top: 35px !important;
  border-top: 2px solid transparent !important;
  border-image: linear-gradient(90deg, 
    transparent 0%, 
    rgba(44, 76, 151, 0.1) 20%, 
    rgba(44, 76, 151, 0.2) 50%, 
    rgba(44, 76, 151, 0.1) 80%, 
    transparent 100%) 1 !important;
  text-align: center !important;
  position: relative !important;
}

/* Elegant footer accent */
.capabilities-menu-footer::before {
  content: '';
  position: absolute;
  top: -1px;
  left: 50%;
  transform: translateX(-50%);
  width: 120px;
  height: 2px;
  background: linear-gradient(90deg, 
    transparent 0%, 
    var(--tp-theme-primary) 25%, 
    var(--tp-theme-secondary) 50%, 
    var(--tp-theme-primary) 75%, 
    transparent 100%);
  border-radius: 1px;
  box-shadow: 0 2px 8px rgba(44, 76, 151, 0.3);
}

/* Premium CTA button */
.view-all-capabilities {
  display: inline-flex !important;
  align-items: center !important;
  gap: 14px !important;
  padding: 18px 36px !important;
  background: linear-gradient(135deg, var(--tp-theme-primary) 0%, #3a5ba0 100%) !important;
  color: var(--tp-common-white) !important;
  text-decoration: none !important;
  border-radius: 50px !important;
  font-weight: 600 !important;
  font-size: 16px !important;
  transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1) !important;
  box-shadow: 
    0 12px 32px rgba(44, 76, 151, 0.25),
    0 4px 16px rgba(44, 76, 151, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
  font-family: var(--tp-ff-jost) !important;
  position: relative !important;
  overflow: hidden !important;
  letter-spacing: -0.01em !important;
}

.view-all-capabilities::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(255, 255, 255, 0.2) 50%, 
    transparent 100%);
  transition: left 0.6s ease;
}

.view-all-capabilities::after {
  content: '→';
  font-size: 20px;
  font-weight: bold;
  transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  position: relative;
  z-index: 1;
}

.view-all-capabilities:hover {
  background: linear-gradient(135deg, var(--tp-theme-secondary) 0%, #e0b555 100%) !important;
  color: var(--tp-common-white) !important;
  text-decoration: none !important;
  transform: translateY(-2px) !important;
  box-shadow: 
    0 16px 40px rgba(214, 167, 75, 0.3),
    0 8px 24px rgba(214, 167, 75, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
}

.view-all-capabilities:hover::before {
  left: 100%;
}

.view-all-capabilities:hover::after {
  transform: translateX(6px) scale(1.1);
}

/* Responsive adjustments for ultra-modern megamenu */
@media (max-width: 1199px) {
  .capabilities-menu-container {
    max-width: 1200px !important;
    padding: 0 30px !important;
  }
  
  .capabilities-grid {
    gap: 24px !important;
  }
  
  .capability-link {
    padding: 24px 28px !important;
    gap: 18px !important;
  }
  
  .capability-icon {
    width: 58px !important;
    height: 58px !important;
  }
  
  .capability-emoji {
    font-size: 26px !important;
  }
  
  .capability-title {
    font-size: 17px !important;
  }
  
  .capability-desc {
    font-size: 13px !important;
  }
}

@media (max-width: 991px) {
  .tp-main-menu-content .has-dropdown.has-mega-menu .tp-submenu.capabilities-menu {
    padding: 40px 0 !important;
    border-radius: 0 0 20px 20px !important;
  }
  
  .capabilities-menu-container {
    padding: 0 25px !important;
  }
  
  .capabilities-grid {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 20px !important;
  }
  
  .capability-link {
    padding: 22px 24px !important;
    gap: 16px !important;
    border-radius: 18px !important;
  }
  
  .capability-icon {
    width: 54px !important;
    height: 54px !important;
    border-radius: 16px !important;
  }
  
  .capability-emoji {
    font-size: 24px !important;
  }
  
  .capability-title {
    font-size: 16px !important;
  }
  
  .capability-desc {
    font-size: 12px !important;
  }
  
  .view-all-capabilities {
    padding: 16px 30px !important;
    font-size: 15px !important;
  }
}

@media (max-width: 767px) {
  .tp-main-menu-content .has-dropdown.has-mega-menu .tp-submenu.capabilities-menu {
    padding: 35px 0 !important;
    border-radius: 0 0 16px 16px !important;
  }
  
  .capabilities-menu-container {
    padding: 0 20px !important;
  }
  
  .capabilities-grid {
    grid-template-columns: 1fr !important;
    gap: 16px !important;
  }
  
  .capability-link {
    padding: 20px 22px !important;
    gap: 14px !important;
    border-radius: 16px !important;
  }
  
  .capability-icon {
    width: 50px !important;
    height: 50px !important;
    border-radius: 14px !important;
  }
  
  .capability-emoji {
    font-size: 22px !important;
  }
  
  .capability-title {
    font-size: 15px !important;
  }
  
  .capability-desc {
    font-size: 11px !important;
  }
  
  .view-all-capabilities {
    padding: 14px 26px !important;
    font-size: 14px !important;
  }
}

@media (max-width: 480px) {
  .tp-main-menu-content .has-dropdown.has-mega-menu .tp-submenu.capabilities-menu {
    padding: 30px 0 !important;
  }
  
  .capabilities-menu-container {
    padding: 0 15px !important;
  }
  
  .capabilities-grid {
    gap: 12px !important;
  }
  
  .capability-link {
    padding: 16px 18px !important;
    gap: 12px !important;
    border-radius: 14px !important;
  }
  
  .capability-icon {
    width: 44px !important;
    height: 44px !important;
    border-radius: 12px !important;
  }
  
  .capability-emoji {
    font-size: 18px !important;
  }
  
  .capability-title {
    font-size: 14px !important;
  }
  
  .capability-desc {
    font-size: 10px !important;
  }
  
  .view-all-capabilities {
    padding: 12px 22px !important;
    font-size: 13px !important;
  }
}

/* Performance optimizations for animations */
.capability-menu-item,
.capability-link,
.capability-icon,
.capability-emoji {
  will-change: transform, opacity;
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  .capability-menu-item {
    animation: none !important;
  }
  
  .capability-menu-item::before,
  .capability-link,
  .capability-icon,
  .capability-emoji,
  .view-all-capabilities {
    transition: none !important;
  }
  
  .tp-main-menu-content .has-dropdown.has-mega-menu .tp-submenu.capabilities-menu {
    transition: opacity 0.2s ease !important;
  }
}

/* ===========================
   End Capabilities Mega Menu Styles
   =========================== */

/* ===========================
   Shop / Toolbar / Filters
   =========================== */

/* Add space when breadcrumb removed */
.shop-page-spacing { padding-top: 40px; }

/* sticky toolbar under header */
.shop-toolbar-sticky{
  /* position: sticky; */ /* uncomment when needed */
  top: var(--header-offset, 88px);
  z-index: 9;
  background: var(--tp-common-white);
  border-bottom: 1px solid color-mix(in srgb, var(--tp-common-black) 6%, transparent);
}
.shop-toolbar-sticky .tp-shop-top{ margin-bottom:0 !important; }

/* Base toolbar alignment */
.shop-toolbar {
  display: flex;
  align-items: center;
  gap: 16px;
  justify-content: end;
}

/* Filter header within sidebar */
.filter-header{
  position: sticky;
  top: 0;
  background: var(--tp-common-white);
  z-index: 2;
  padding: 8px 0 10px;
  border-bottom: 1px solid color-mix(in srgb, var(--tp-common-black) 6%, transparent);
}

.filter-reset-btn{
  font: 600 12px/1 var(--tp-ff-roboto);
  padding: 8px 12px;
  border-radius: 8px;
  border: 1px solid var(--tp-grey-2);
  background: var(--tp-common-white);
  color: var(--tp-text-1);
}
.filter-reset-btn.is-active{
  background: var(--tp-theme-primary);
  color: var(--tp-common-white);
  border-color: var(--tp-theme-primary);
  box-shadow: 0 2px 10px color-mix(in srgb, var(--tp-theme-primary) 20%, transparent);
}

/* Header search input respects theme */
.tp-header-search-box input {
  padding-left: 25px;
  padding-right: 88px;
  width: 100%;
  height: 46px;
  background-color: var(--tp-common-white);
  color: var(--tp-common-black);
  border: 1px solid var(--tp-grey-2);
}

/* MOBILE: Search + Filter same row; search grows, filter fixed */
@media (max-width: 640px) {
  .tp-shop-top-right.shop-toolbar {
    display: grid !important;
    grid-template-columns: minmax(0, 1fr) 132px;
    gap: 10px;
    align-items: center;
  }
  .shop-toolbar__search { min-width: 0; }
  .shop-toolbar__search form,
  .shop-toolbar__search .tp-header-search-wrapper { width: 100%; }

  .shop-toolbar__filter .tp-filter-btn {
    width: 100%;
    height: 44px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    border-radius: 8px;
    background: var(--tp-theme-1);
    color: var(--tp-common-white);
    border: 1px solid transparent;
  }
  .shop-toolbar__filter .tp-filter-btn svg,
  .shop-toolbar__filter .tp-filter-btn svg * {
    stroke: currentColor;
    fill: currentColor;
  }
}

/* Tiny phones */
@media (max-width: 320px) {
  .tp-shop-top-right.shop-toolbar {
    grid-template-columns: minmax(0, 1fr) 120px;
  }
}

/* Ensure product area isn't clipped */
.tp-shop-main-wrapper{ overflow: visible; }

/* ===========================
   Header Dropdown Overflow Fix
   =========================== */
.tp-header-area,
.tp-header-top,
.tp-header-bottom-2,
.tp-header-sticky,
.tp-mega-menu-wrapper,
.tp-header-top-menu,
.tp-header-top-menu-item,
.tp-header-setting,
.tp-header-action-item {
  overflow: visible !important;
}

/* Ensure dropdown menus have proper z-index */
.tp-setting-list-open,
.user-menu-dropdown {
  z-index: 10000 !important;
}

/* ===========================
   Simplified Sticky Sidebar (Filter panel) - Direct Approach
   =========================== */
.sticky-filter {
  position: sticky;
  top: calc(var(--tp-header-height, 88px) + 20px);
  max-height: calc(100vh - var(--tp-header-height, 88px) - 40px);
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 10;
  background: var(--tp-common-white);
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  padding: 0;
  margin-bottom: 20px;
  align-self: flex-start;
}

/* Enhanced scrollbar styling */
.sticky-filter::-webkit-scrollbar { 
  width: 6px; 
}

.sticky-filter::-webkit-scrollbar-track { 
  background: rgba(0,0,0,0.05);
  border-radius: 3px;
}

.sticky-filter::-webkit-scrollbar-thumb { 
  background: #d5d5d5; 
  border-radius: 3px; 
  transition: background 0.2s ease;
}

.sticky-filter:hover::-webkit-scrollbar-thumb { 
  background: #c0c0c0; 
}

.sticky-filter { 
  scrollbar-width: thin; 
  scrollbar-color: #d5d5d5 rgba(0,0,0,0.05); 
}

/* Ensure the shop area has proper height for sticky to work */
.tp-shop-area {
  min-height: 100vh;
  position: relative;
}

/* Ensure the sidebar container has proper positioning */
.shop-sidebar-col {
  position: relative;
  height: fit-content;
}

/* Ensure proper layout with flexbox */
.shop-content-wrapper {
  display: flex;
  align-items: flex-start;
  gap: 24px;
  min-height: calc(100vh - 120px);
}

.shop-sidebar-col {
  flex: 0 0 320px;
  max-width: 320px;
}

.shop-main-col {
  flex: 1;
  min-width: 0;
}

/* Enhanced sidebar spacing for wider layout */
@media (min-width: 1200px) {
  .tp-shop-area .container {
    max-width: 1400px;
  }
  
  .sticky-filter {
    max-height: calc(100vh - var(--tp-header-height, 88px) - 60px);
  }
}

/* Better responsive behavior */
@media (max-width: 1199.98px) {
  .shop-sidebar-col {
    flex: 0 0 300px !important;
    max-width: 300px !important;
  }
  
  .sticky-filter {
    max-width: 300px;
  }
}

/* Ensure the sidebar is visible on desktop and hidden on mobile */
.shop-sidebar-col {
  display: block;
}

@media (max-width: 991.98px) {
  .shop-sidebar-col {
    display: none !important;
  }
  
  .shop-content-wrapper {
    flex-direction: column;
    min-height: auto;
  }
  
  .shop-main-col {
    min-height: auto;
  }
  
  /* Show mobile filter button */
  .shopFilterBtn {
    display: block !important;
  }
}

@media (min-width: 992px) {
  /* Hide mobile filter button on desktop */
  .shopFilterBtn {
    display: none !important;
  }
}

.tp-btn-reset {
  background-color: var(--tp-theme-primary);
  color: var(--tp-common-white);
  border: 1px solid var(--tp-theme-primary);
  transition: all 0.2s ease;

  &:hover {
    background-color: var(--tp-common-white);
    border-color: var(--tp-theme-primary);
    color: var(--tp-theme-primary);
  }
}

/* Load More – colors only */
.load-more-btn {
  background: var(--tp-theme-primary);
  color: var(--tp-common-white);
  border: 1px solid var(--tp-theme-primary);
  transition: color .2s ease, background-color .2s ease, border-color .2s ease;
}
.load-more-btn:hover {
  background-color: var(--tp-common-white);
  border-color: var(--tp-theme-primary);
  color: var(--tp-theme-primary);
}

.theme-dark .load-more-btn {
  background: var(--tp-theme-primary);
  color: var(--tp-common-white);
  border-color: var(--tp-theme-primary);
}
.theme-dark .load-more-btn:hover {
  background-color: var(--tp-common-white);
  border-color: var(--tp-theme-primary);
  color: var(--tp-theme-primary);
}

/* Mobile filter button – colors only */
.shop-toolbar__filter .tp-filter-btn {
  background: var(--tp-theme-primary);
  color: var(--tp-common-white);
  border: 1px solid var(--tp-theme-primary);
  transition: color .2s ease, background-color .2s ease, border-color .2s ease;
}
.shop-toolbar__filter .tp-filter-btn:hover {
  background-color: var(--tp-common-white);
  border-color: var(--tp-theme-primary);
  color: var(--tp-theme-primary);
}

.theme-dark .shop-toolbar__filter .tp-filter-btn {
  background: var(--tp-theme-primary);
  color: var(--tp-common-white);
  border-color: var(--tp-theme-primary);
}
.theme-dark .shop-toolbar__filter .tp-filter-btn:hover {
  background-color: var(--tp-common-white);
  border-color: var(--tp-theme-primary);
  color: var(--tp-theme-primary);
}

/* BLOG */
.blog-card { border-radius: 10px; overflow: hidden; }
.blog-card__thumb{
  position: relative;
  width: 100%;
  aspect-ratio: 16 / 10;
  background: #f6f8fb;
  border-radius: 10px;
  overflow: hidden;
}
.blog-card__img{
  object-fit: contain !important;
  object-position: center;
}

.tp-profile-avatar {
  display: block;
  position: relative;
  overflow: hidden;
  margin: 0 auto;
}
.tp-profile-avatar--oval {
  width: 180px;
  height: 180px;
}
.tp-profile-avatar--circle {
  width: 180px;
  height: 180px;
  border-radius: 50%;
}
.tp-profile-avatar__img {
  object-fit: cover;
  object-position: center;
}

@media (min-width: 769px) {
  .pdw-modal-overlay {
    padding: 60px 20px !important;
  }
  .pdw-modal-content {
    height: calc(100vh - 120px) !important;
  }
}

@media (max-width: 768px) {
  .pdw-modal-overlay {
    display: none !important;
  }
  .pdw-main-inner {
    cursor: default !important;
  }
  .pdw-main-inner:hover {
    transform: none !important;
  }
}

/* ===========================
   CAPABILITIES MEGA MENU 2x4 GRID STYLES
   =========================== */

/* Main container for the 2x4 grid layout */
.capabilities-mega-grid-2x4.tp-submenu.tp-mega-menu {
  display: grid !important;
  grid-template-columns: 3fr 1fr; /* 3 parts for boxes, 1 part for CTA */
  gap: 30px;
  padding: 50px 60px;
  background: white;
  width: 100% !important;
  min-height: 540px; /* Increased from 500px to accommodate larger cards */
  margin: 0;
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25);
  position: absolute !important;
  top: 100% !important;
  left: 0 !important;
  right: 0 !important;
  opacity: 0;
  visibility: hidden;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 999999 !important;
  margin-top: 20px;
  isolation: isolate;
  contain: layout style paint;
  transform: translateZ(0); /* Force hardware acceleration and new layer */
}

.capabilities-mega-grid-2x4.tp-submenu.tp-mega-menu.show {
  opacity: 1 !important;
  visibility: visible !important;
  margin-top: 0;
}

/* Force new stacking context for mega menu container */
.has-mega-menu {
  position: relative;
  z-index: 999999 !important;
  isolation: isolate;
}

/* Ensure header has proper stacking context */
.tp-header-area,
.tp-header-wrapper,
.tp-header-main-wrapper {
  position: relative;
  z-index: 999998 !important;
  isolation: isolate;
}

/* Force banner and other content to stay below mega menu */
.tp-banner-area,
.tp-slider-area,
.banner-area,
.hero-banner,
.main-content {
  position: relative;
  z-index: 1 !important;
}

/* Additional mega menu layer enforcement */
.capabilities-mega-grid-2x4.tp-submenu.tp-mega-menu {
  will-change: opacity, visibility, transform;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

.capabilities-mega-grid-2x4.tp-submenu.tp-mega-menu.show {
  opacity: 1 !important;
  visibility: visible !important;
  margin-top: 0;
}

/* 2x3 Grid for the 6 capability boxes */
.capabilities-boxes-2x3-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: repeat(2, 1fr);
  gap: 28px;
  align-items: stretch;
  max-width: none;
}

/* Individual capability square boxes */
.capability-square-box {
  background: #ffffff; /* Solid white background instead of gradient */
  border-radius: 20px;
  overflow: hidden;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  border: 2px solid #e2e8f0;
  position: relative;
  height: 240px; /* Increased from 200px for better text readability */
  display: flex;
  flex-direction: column;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

.capability-square-box::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: var(--tp-theme-primary);
  border-radius: 20px 20px 0 0;
  transition: height 0.3s ease;
}

.capability-square-box:hover {
  transform: translateY(-8px);
  box-shadow: 0 20px 40px rgba(44, 76, 151, 0.2);
  border-color: var(--tp-theme-primary);
}

.capability-square-box:hover::before {
  height: 6px;
  background: var(--tp-theme-primary);
}

.capability-square-box::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(135deg, #0989FF, #821F40);
  border-radius: 16px 16px 0 0;
  transition: height 0.3s ease;
}

.capability-square-box:hover {
  transform: translateY(-8px);
  box-shadow: 0 15px 40px rgba(9, 137, 255, 0.2);
  border-color: #0989FF;
}

.capability-square-box:hover::before {
  height: 6px;
  background: linear-gradient(135deg, #821F40, #0989FF);
}

/* Square box link styling */
.capability-square-link {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  padding: 30px 20px;
  height: 100%;
  text-decoration: none;
  color: inherit;
  transition: all 0.3s ease;
}

.capability-square-link:hover {
  text-decoration: none;
  color: inherit;
}

/* Content styling for square boxes */
.capability-square-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  text-align: center;
}

/* Icon styling for square boxes */
.capability-square-icon {
  margin-bottom: 15px;
  transition: transform 0.3s ease;
  width: 65px;
  height: 65px;
  background: var(--tp-theme-primary);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 8px 20px rgba(44, 76, 151, 0.3);
  flex-shrink: 0;
}

.capability-square-icon .capability-emoji {
  font-size: 2rem;
  display: block;
  filter: brightness(0) invert(1);
  line-height: 1;
}

.capability-square-box:hover .capability-square-icon {
  transform: scale(1.1);
  box-shadow: 0 12px 30px rgba(44, 76, 151, 0.4);
}

/* Content styling for square boxes */
.capability-square-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  text-align: center;
}

.capability-square-title {
  font-size: 1.2rem;
  font-weight: 700;
  color: #010F1C;
  margin-bottom: 12px;
  line-height: 1.2;
  transition: color 0.3s ease;
}

.capability-square-desc {
  font-size: 0.95rem;
  color: #64748b;
  line-height: 1.5;
  margin: 0;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  transition: color 0.3s ease;
}

.capability-square-box:hover .capability-square-title {
  color: var(--tp-theme-primary);
}

.capability-square-box:hover .capability-square-desc {
  color: #475569;
}

/* CTA Column Styling */
.capabilities-cta-column {
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--tp-theme-primary);
  border-radius: 20px;
  padding: 35px 30px;
  color: white;
  text-align: center;
  position: relative;
  overflow: hidden;
  height: 508px; /* Match both rows: 240px + 28px gap + 240px = 508px */
  box-shadow: 0 15px 35px rgba(44, 76, 151, 0.4);
}

.capabilities-cta-column::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="dots" width="20" height="20" patternUnits="userSpaceOnUse"><circle cx="10" cy="10" r="1" fill="%23ffffff" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23dots)"/></svg>');
  opacity: 0.3;
}

.capabilities-cta-content {
  position: relative;
  z-index: 1;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.capabilities-cta-column::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="dots" width="20" height="20" patternUnits="userSpaceOnUse"><circle cx="10" cy="10" r="1" fill="%23ffffff" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23dots)"/></svg>');
  opacity: 0.3;
}

.capabilities-cta-content {
  position: relative;
  z-index: 1;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.capabilities-cta-content .cta-icon {
  font-size: 3.5rem;
  margin-bottom: 20px;
  animation: float 3s ease-in-out infinite;
  filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.3));
}

.capabilities-cta-content .cta-title {
  font-size: 1.5rem;
  font-weight: 800;
  margin-bottom: 18px;
  color: white;
  line-height: 1.2;
}

.capabilities-cta-content .cta-description {
  font-size: 1rem;
  line-height: 1.5;
  margin-bottom: 25px;
  opacity: 0.95;
  color: white;
}

/* View All Capabilities Button */
.view-all-capabilities-btn {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  background: rgba(255, 255, 255, 0.25);
  color: white;
  padding: 16px 26px;
  border-radius: 50px;
  font-weight: 600;
  font-size: 1rem;
  text-decoration: none;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  border: 2px solid rgba(255, 255, 255, 0.4);
  backdrop-filter: blur(15px);
  position: relative;
  overflow: hidden;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
}

.view-all-capabilities-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.2);
  transition: left 0.6s ease;
}

.view-all-capabilities-btn:hover::before {
  left: 100%;
}

.view-all-capabilities-btn:hover {
  background: white;
  color: var(--tp-theme-primary);
  transform: translateY(-2px);
  box-shadow: 0 10px 30px rgba(255, 255, 255, 0.4);
  text-decoration: none;
}

.view-all-capabilities-btn svg {
  transition: transform 0.3s ease;
}

.view-all-capabilities-btn:hover svg {
  transform: translateX(4px);
}

.view-all-capabilities-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.2);
  transition: left 0.6s ease;
}

.view-all-capabilities-btn:hover::before {
  left: 100%;
}

.view-all-capabilities-btn:hover {
  background: white;
  color: #0989FF;
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(255, 255, 255, 0.3);
  text-decoration: none;
}

.view-all-capabilities-btn svg {
  transition: transform 0.3s ease;
}

.view-all-capabilities-btn:hover svg {
  transform: translateX(4px);
}

/* Float animation for CTA icon */
@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-8px);
  }
}

/* Responsive Design for Mega Menu */
@media (max-width: 1200px) {
  .capabilities-mega-grid-2x4.tp-submenu.tp-mega-menu {
    padding: 25px 0;
    gap: 25px;
    min-height: 260px;
  }
  
  .capability-square-box {
    height: 110px;
  }
  
  .capability-square-title {
    font-size: 0.85rem;
  }
  
  .capability-square-desc {
    font-size: 0.7rem;
  }
}

@media (max-width: 992px) {
  .capabilities-mega-grid-2x4.tp-submenu.tp-mega-menu {
    grid-template-columns: 1fr;
    grid-template-rows: auto auto;
    padding: 25px 0;
    gap: 25px;
    min-height: 320px;
  }
  
  .capabilities-boxes-2x3-grid {
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(3, 1fr);
    gap: 12px;
    padding: 0 15px;
  }
  
  .capability-square-box {
    height: 100px;
  }
  
  .capabilities-cta-column {
    padding: 15px;
    min-height: 140px;
    margin: 0 15px;
  }
  
  .capabilities-cta-content .cta-title {
    font-size: 1rem;
  }
  
  .capabilities-cta-content .cta-description {
    font-size: 0.75rem;
  }
}

@media (max-width: 768px) {
  .capabilities-mega-grid-2x4 {
    padding: 20px 0;
    gap: 20px;
    min-height: 400px;
  }
  
  .capabilities-boxes-2x3-grid {
    grid-template-columns: 1fr;
    grid-template-rows: repeat(6, 1fr);
    gap: 10px;
    padding: 0 10px;
  }
  
  .capability-square-box {
    height: 90px;
  }
  
  .capability-square-icon .capability-emoji {
    font-size: 1.5rem;
  }
  
  .capability-square-title {
    font-size: 0.8rem;
  }
  
  .capability-square-desc {
    font-size: 0.65rem;
    -webkit-line-clamp: 1;
  }
  
  .capabilities-cta-content .cta-icon {
    font-size: 2rem;
  }
  
  .capabilities-cta-content .cta-title {
    font-size: 0.95rem;
  }
  
  .view-all-capabilities-btn {
    padding: 8px 16px;
    font-size: 0.8rem;
  }
}

@media (max-width: 480px) {
  .capabilities-mega-grid-2x4 {
    padding: 20px;
    gap: 20px;
    max-width: 400px;
  }
  
  .capability-square-box {
    height: 100px;
  }
  
  .capability-square-link {
    padding: 15px 12px;
  }
  
  .capability-square-icon .capability-emoji {
    font-size: 1.5rem;
  }
  
  .capability-square-title {
    font-size: 0.8rem;
    margin-bottom: 6px;
  }
  
  .capability-square-desc {
    font-size: 0.65rem;
  }
  
  .capabilities-cta-column {
    padding: 20px 15px;
    min-height: 180px;
  }
  
  .capabilities-cta-content .cta-title {
    font-size: 1rem;
    margin-bottom: 12px;
  }
  
  .capabilities-cta-content .cta-description {
    font-size: 0.8rem;
    margin-bottom: 20px;
  }
}

/* Hover effects for the entire mega menu */
.has-mega-menu {
  position: relative;
  z-index: 999999 !important;
  isolation: isolate;
}

.has-mega-menu:hover .capabilities-mega-grid-2x4.tp-submenu.tp-mega-menu {
  opacity: 1 !important;
  visibility: visible !important;
  margin-top: 0;
}

/* Force hide when not in show state */
.capabilities-mega-grid-2x4.tp-submenu.tp-mega-menu:not(.show) {
  opacity: 0 !important;
  visibility: hidden !important;
  pointer-events: none !important;
}

/* Ensure show state works */
.capabilities-mega-grid-2x4.tp-submenu.tp-mega-menu.show {
  opacity: 1 !important;
  visibility: visible !important;
  pointer-events: auto !important;
}

/* ===========================
   MOBILE MENU OVERRIDE STYLES
   Force our mobile menu to appear above theme styles
   =========================== */

/* Override theme off-canvas with higher specificity */
.offcanvas__area.offcanvas__area.offcanvas__area {
  position: fixed !important;
  top: 0 !important;
  right: -100% !important;
  width: 320px !important;
  max-width: 85vw !important;
  height: 100vh !important;
  background: #ffffff !important;
  transition: right 0.3s ease !important;
  z-index: 999999 !important;
  transform: none !important;
  box-shadow: -4px 0 20px rgba(15, 34, 53, 0.15) !important;
}

.offcanvas__area.offcanvas__area.offcanvas__area.offcanvas-opened {
  right: 0 !important;
  transform: none !important;
}

/* Ensure header is always visible */
.offcanvas__header.offcanvas__header.offcanvas__header {
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  padding: 25px !important;
  background: #ffffff !important;
  border-bottom: 1px solid #F1F5F9 !important;
  position: sticky !important;
  top: 0 !important;
  z-index: 999999 !important;
  min-height: 80px !important;
}

/* Brand text visibility */
.brand-text.brand-text.brand-text {
  font-size: 32px !important;
  font-weight: 900 !important;
  color: #2C4C97 !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Close button visibility */
.offcanvas__close-btn.offcanvas__close-btn.offcanvas__close-btn {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  width: 48px !important;
  height: 48px !important;
  background: #F7F9FC !important;
  border: 2px solid #2C4C97 !important;
  color: #2C4C97 !important;
  visibility: visible !important;
  opacity: 1 !important;
}